<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
  <meta content="yes" name="apple-mobile-web-app-capable">
  <meta content="black" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <title>我的收藏</title>
  <script src="js/rem.min.js"></script>
  <link rel="stylesheet" href="css/weui.min.css">
  <link rel="stylesheet" href="css/jquery-weui.min.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/my-collection.css">
</head>
<body>
  <div class="list-goods">
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
    <div class="item-box">
      <div class="goods-item">
        <div class="goods-info clearfix">
          <div class="goods-img">
            <img src="images/product-01.png" alt="">
          </div>
          <div class="goods-text">
            <p class="goods-describe">
              葛仙翁 下火王固体饮料 10g*16袋
            </p>
            <p class="goods-specification clearfix">
              <span>规格: 10g*16袋</span>
            </p>
            <p class="goods-price">
              ￥9.00
            </p>
            <a class="icon-cart" href="javascript:void(0)"></a>
          </div>
        </div>
      </div>
      <a class="btn-delete" href="javascript:void(0)">删除</a>
    </div>
  </div>
  <div id="list">

  </div>
  <div class="weui-loadmore">
    <i class="weui-loading"></i>
    <span class="weui-loadmore__tips">正在加载</span>
  </div>
  <script src="js/jquery-3.1.1.js"></script>
  <script src="js/jquery-weui.js"></script>
<script>
  // 左滑删除效果
  var leftSlip = function (itemParents,item) {
    var moved = 0;
    var startX = 0;
    $(itemParents).on("touchstart",item,function () {
      startX = event.changedTouches[0].clientX;
      moved = 0;
    });
    $(itemParents).on("touchmove",item,function () {
      var moveX = event.changedTouches[0].clientX;
      moved = moveX - startX;
    });
    $(itemParents).on("touchend",item,function (e) {
      var target =e.currentTarget;
      if(moved < -50){
        $(target).animate({left:"-1.5rem"},"fast")
          .parents(".item-box").siblings().find(item).animate({left:"0"},"fast");
      }
      if(moved > 50){
        $(target).animate({left:"0"},"fast");
      }
    });
  };
  leftSlip(".list-goods",".goods-item");

  var loading = false;  //状态标记
  $(document.body).on("scroll", function() {
    console.log(1);
    if(loading) return;
    loading = true;
    setTimeout(function() {
      $("#list").append("<p> 我是新加载的内容 </p>");
      loading = false;
    }, 1500);   //模拟延迟
  });
</script>

</body>
</html>



















